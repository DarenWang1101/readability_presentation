<!DOCTYPE html>
<html lang="en"><head>
<script src="pre_files/libs/clipboard/clipboard.min.js"></script>
<script src="pre_files/libs/quarto-html/tabby.min.js"></script>
<script src="pre_files/libs/quarto-html/popper.min.js"></script>
<script src="pre_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="pre_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="pre_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="pre_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="pre_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.361">

  <meta name="author" content="王　簫影">
  <meta name="dcterms.date" content="2023-11-03">
  <title>漢字圏と非漢字圏日本語教科書リーダビリティ研究</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="pre_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="pre_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="pre_files/libs/revealjs/dist/theme/quarto.css">
  <link href="pre_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="pre_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="pre_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="pre_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">漢字圏と非漢字圏日本語教科書リーダビリティ研究</h1>
  <p class="subtitle">ー長文テキストを対象にー</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
王　簫影 
</div>
        <p class="quarto-title-affiliation">
            大阪大学 人文学研究科言語文化研究専攻M2
          </p>
    </div>
</div>

  <p class="date">2023-11-03</p>
</section>
<section>
<section id="目次" class="title-slide slide level1 center">
<h1>目次</h1>
<div>
<ol type="1">
<li class="fragment">研究背景</li>
<li class="fragment">英語リーダビリティの先行研究</li>
<li class="fragment">日本語リーダビリティの先行研究</li>
<li class="fragment">リサーチクエスチョン</li>
<li class="fragment">データとコーパス紹介</li>
<li class="fragment">方法と結果</li>
<li class="fragment">参考文献</li>
</ol>
</div>
<!-- ## 研究背景📌

::: {.incremental}
- リーダビリティの定義
- リーダビリティの発展
- リーダビリティの研究手法
:::

:::footer
:bookmark:
::: -->
</section>
<section id="研究背景" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">研究背景📌</h2>
<div class="fragment" data-fragment-index="1">
<div class="fragment highlight-blue">
<ul>
<li>リーダビリティの定義</li>
</ul>
</div>
</div>
<div class="fragment" data-fragment-index="1">
<ul>
<li>リーダビリティの発展</li>
</ul>
</div>
<div class="fragment" data-fragment-index="1">
<ul>
<li>リーダビリティの研究手法</li>
</ul>
</div>
<div class="fragment">
<p><br></p>
<h3 id="リーダビリティとは"><a href="https://en.wikipedia.org/wiki/Readability">リーダビリティ</a>とは❓</h3>
<p>リーダビリティは研究者や研究目的によって多様に定義されている。例えば：</p>
<div>
<ul>
<li>surface-level indicators of text difficulty that can be calculated</li>
<li>complex cognitive processes that take place when reading a text are included</li>
</ul>
</div>
<!-- ここではリーダビリティをテキストの読みやすさ、または読みにくさに指標を設定することができ、測 定できるものとして定義する。 -->
<div class="footer">
<p><span class="emoji" data-emoji="bookmark">🔖</span></p>
</div>
</div>
</section>
<section id="研究背景-1" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">研究背景📌</h2>
<h3 id="リーダビリティとは-1"><a href="https://en.wikipedia.org/wiki/Readability">リーダビリティ</a>とは❓</h3>
<p>リーダビリティは研究者や研究目的によって多様に定義されている。例えば：</p>
<div>
<ul>
<li>surface-level indicators of text difficulty that can be calculated</li>
<li>complex cognitive processes that take place when reading a text are included</li>
</ul>
</div>
<p>ここではリーダビリティをテキストの読みやすさ、または読みにくさに指標を設定することができ、測定できるものとして定義する。</p>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark">🔖</span></p>
</div>
</section>
<section id="研究背景-2" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">研究背景📌</h2>
<div class="fragment" data-fragment-index="1">
<ul>
<li>リーダビリティの定義</li>
</ul>
</div>
<div class="fragment" data-fragment-index="1">
<div class="fragment highlight-blue">
<ul>
<li>リーダビリティの発展</li>
</ul>
</div>
</div>
<div class="fragment" data-fragment-index="1">
<ul>
<li>リーダビリティの研究手法</li>
</ul>
</div>
<div class="fragment">
<p><br></p>
<h3 id="リーダビリティの発展">リーダビリティの発展</h3>
<p>リーダビリティは19世紀60年代から発展しつづ、学術以外にも教育や出版などの領域で幅広く研究されている。</p>
<p>英語が主体な時期を経って、アジア圏では日本語、中国語、などもそれを踏まえて、欧米言語の研究を継承した上で、それぞれ言語の特徴を焦点にリーダビリティ研究を展開している</p>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark">🔖</span></p>
</div>
</div>
</section>
<section id="研究背景-3" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">研究背景📌</h2>
<div class="fragment" data-fragment-index="1">
<ul>
<li>リーダビリティの定義</li>
</ul>
</div>
<div class="fragment" data-fragment-index="1">
<ul>
<li>リーダビリティの発展</li>
</ul>
</div>
<div class="fragment" data-fragment-index="1">
<div class="fragment highlight-blue">
<ul>
<li>リーダビリティの研究手法</li>
</ul>
</div>
</div>
<div class="fragment">
<p><br></p>
<h3 id="リーダビリティの研究手法">リーダビリティの研究手法</h3>
<ul>
<li>traditional methods</li>
<li>methods inspired by cognitive science</li>
<li>methods based on the use of statistical language modeling tools</li>
</ul>
<p>言語資源がデジタル化されるにつれて、…</p>
<ul>
<li>methods based on the use of large language models … ❓❗</li>
</ul>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark">🔖</span></p>
</div>
</div>
</section>
<section id="研究背景-4" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">研究背景📌</h2>
<h3 id="リーダビリティの研究手法-1">リーダビリティの研究手法</h3>
<ul>
<li>traditional methods</li>
<li>methods inspired by cognitive science</li>
<li>methods based on the use of statistical language modeling tools</li>
</ul>
<p>言語資源がデジタル化されるにつれて、オンラインのコーパスもしくは一部のエディタが自動的かつハイスピードで語の頻度集計や文長、語の長さなどの情報を提示してくれる。</p>
<p>認知科学理論で簡単に集計できる指標だけではなく、段落の間の結合具合やなどといった内容のまとまり状況を測量する指標と文法の難易度をはかる指標などが開発される。</p>
<p>コンピューターサイエンスの急速な発展と共に、統計言語モデル(SLMs)や、機械学習手法(ML)を応用したアルゴリズム(SVMs)が新たなアプローチ提示する。</p>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark">🔖</span></p>
</div>
</section>
<section id="英語リーダビリティの先行研究" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">英語リーダビリティの先行研究🤝</h2>
<div class="r-fit-text">
<blockquote>
<p>The assumptions underlying traditional readability formulas are far too simplistic to account for the varied linguistic and textual factors that can differ widely, especially in adult texts (Bailin and Grafstein 2001; Schriver 2000).</p>
</blockquote>
<blockquote>
<p>Because of the rapid influx of newly designed procedures for analyzing text difficulty and matching readers and texts, educational researchers may either feel overwhelmed with the numerous options or may simply be tempted to stick with the classic methods they and their predecessors have used for decades. However, selecting appropriate texts for a population of readers requires some understanding of both the reader and the text, and different methods may be more or less appropriate for different types of texts and different populations of readers.(Benjamin, 2012)</p>
</blockquote>
</div>
<ul>
<li>人気のある従来指標と次々と現れ尽きない新たなメソッド</li>
<li>テキストの種類と読者の特徴</li>
<li>適切なマッチングをするにはテキストと対象読者に対する洞察が必要</li>
</ul>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark_tabs">📑</span></p>
</div>
</section>
<section id="英語リーダビリティの先行研究-1" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">英語リーダビリティの先行研究🤝</h2>
<ul>
<li>人気のある従来指標と次々と現れ尽きない新たなメソッド</li>
</ul>
<div class="fragment">
<ul>
<li>GFI/Guning fog index(1952)</li>
</ul>
<div style="text-align: center;">
<p><span class="math display">\[
GFI = 0.4(\frac{totalWords}{totalSentences} + 100\frac{longWords}{totalSentences})
\]</span></p>
</div>
</div>
<div class="fragment">
<ul>
<li>FRE/Flesch reading ease(1975)</li>
</ul>
<div style="text-align: center;">
<p><span class="math display">\[
FRE = 206.835-1.15(\frac{totalWords}{totalSentences}-84.6\frac{totalSyllables}{totalWords})
\]</span></p>
</div>
</div>
<!-- 
  - FKGL/Flesch-Kincaid grade level(1975)
$$
FKGL = 0.39(\frac{totalWords}{totalSentences})+11.8(\frac{totalSyllables}{totalWords})-15.59
$$ -->
<div class="fragment">
<ul>
<li>ARI/Automated readability index(1967)</li>
</ul>
<div style="text-align: center;">
<p><span class="math display">\[
ARI= 4.71(\frac{totalCharacters}{totalWords})+0.5(\frac{totalWords}{totalSentences})-21.43
\]</span></p>
</div>
</div>
<p><!-- - DCRF/the Dale-Chall readability formula(1948)
$$
DCRF = 0.1579(\frac{totalCharacters}{totalWords})+0.5(\frac{totalWords}{totalSentences})
$$ --></p>
<p><!-- - SMOG/simple measure if Gobbledygook(1969)
$$
SMOG = 1.0430\sqrt{numberOfPolysyllables\frac{30}{totalSentences}}+3.1291
$$ --></p>
<p>:::</p>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark_tabs">📑</span></p>
</div>
</section>
<section id="英語リーダビリティの先行研究-2" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">英語リーダビリティの先行研究🤝</h2>
<div class="r-fit-text">
<ul>
<li>従来指標</li>
</ul>
<p>wide used, simple and popular but largly effected by the numbers of characters, words, sentences and syllables.</p>
<blockquote>
<p>For example, if we compare the Newsela corpus and Slovenian SB corpus, which both cover roughly the same age group, we can see that for some readability indicators (FRE, FKGL, DCRF, and ASL) the values are on entirely different scales.(Martinc et al., 2021)</p>
</blockquote>
<ul>
<li>認知科学理論の啓発から新たな測量メソッド</li>
</ul>
<blockquote>
<p>As connectionist (McClelland and Rumelhart 1981; Rumelhart and McClelland 1982), schema (e.g., Anderson and Pichert 1978), prototype (Rosch et al.&nbsp;1976), and spreading activation (Anderson 1983) theories emerged to explain how humans store and retrieve information in long-term memory, some researchers who studied text processing began to hypothesize that text difficulty and readability were more related to coherence and the relationships between elements in a text rather than simply the sum or averages of individual surface features.(Benjamin, 2012)</p>
</blockquote>
</div>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark_tabs">📑</span></p>
</div>
</section>
<section id="英語リーダビリティの先行研究-3" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">英語リーダビリティの先行研究🤝</h2>
<ul>
<li>認知科学理論の啓発から新たな測量メソッド</li>
</ul>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark_tabs">📑</span></p>
</div>
</section>
<section id="日本語リーダビリティの先行研究" class="slide level2">
<h2>日本語リーダビリティの先行研究🤝</h2>
<p>(Shibasaki et al., 2010) :</p>
<div class="r-fit-text">
<p>year = -147.9 + (3.601E-4 * (hiragana / characters)) - (8.772E-2 * (hiragana / characters)^2) + (6.651 * (hiragana / characters)) + (3.679 * chunks) + (3.142E-4 * hiragana^2 * characters) - (3.986E-4 * hiragana^2 * chunks) - (3.207E-4 * characters^2) - (3.109E-2 * (hiragana / characters)) - (7.968E-3 * chunks^2) + (3.468E-3 * hiragana * characters * chunks)</p>
<p>year&nbsp;=&nbsp;学年&nbsp;(this&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;the&nbsp;function).<br>
hiragana / characters = hiragana-ratio&nbsp;=&nbsp;平仮名の割合. characters&nbsp;=&nbsp;文の平均文字数. chunks&nbsp;=&nbsp;文の平均文節数 predicates&nbsp;=&nbsp;文の平均述語数</p>
<p>(R2=.690、調整済みR2=.681、AIC=1409.201)</p>
</div>
<!-- <br/> -->
<p>(李在鎬, 2016) :</p>
<div class="r-fit-text">
<p>文章の読みやすさ={平均文長 * -0.056}+{漢語率 * -0.126}+{和語率 * -0.042}+{動詞率 * -0.145}+{助詞率 * -0.044}+11.724」</p>
<p>(R2=.896)</p>
</div>
<div class="footer">
<p><span class="emoji" data-emoji="bookmark_tabs">📑</span></p>
</div>
</section>
<section id="リサーチクエスチョン" class="slide level2">
<h2>リサーチクエスチョン💡</h2>
</section>
<section id="データ紹介" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">データ紹介📎</h2>
<p><img data-src="img1.png" class="absolute" style="top: 100px; left: 50px; "></p>
<p><img data-src="img2.png" class="absolute" style="top: 200px; right: 50px; "></p>
<p><img data-src="img3.png" class="absolute" style="left: 400px; bottom: 0px; "></p>
<div class="footer">
<p><span class="emoji" data-emoji="books">📚</span></p>
</div>
</section>
<section id="データ紹介-1" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">データ紹介📎</h2>
<p><img data-src="img1.png" class="absolute" style="top: 200px; left: 50px; "></p>
<div class="footer">
<p><span class="emoji" data-emoji="books">📚</span></p>
</div>
</section>
<section id="データ紹介-2" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">データ紹介📎</h2>
<p><img data-src="img2.png" class="absolute" style="top: 200px; left: 50px; "></p>
<div class="footer">
<p><span class="emoji" data-emoji="books">📚</span></p>
</div>
</section>
<section id="データ紹介-3" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">データ紹介📎</h2>
<p><img data-src="img3.png" class="absolute" style="top: 200px; left: 50px; "></p>
<div class="footer">
<p><span class="emoji" data-emoji="books">📚</span></p>
</div>
</section>
<section id="コーパス構築" class="slide level2">
<h2>コーパス構築📦</h2>
<div class="columns">
<div class="column" style="width:65%;">
<div class="fragment" data-fragment-index="1">
<!-- -->
<h4 id="画像データを収集">1. 画像データを収集</h4>
</div>
<div class="fragment" data-fragment-index="2">
<div style="text-align: left;">
<p>⏬</p>
</div>
</div>
<div class="fragment" data-fragment-index="3">
<!-- -->
<h4 id="pngを.txtに">2. .pngを.txtに</h4>
<h6 id="ocrと前処理">OCRと前処理</h6>
</div>
<div class="fragment" data-fragment-index="4">
<div style="text-align: left;">
<p>⏬</p>
</div>
</div>
<div class="fragment" data-fragment-index="5">
<!-- -->
<h4 id="ファイル名を構造化に">3. ファイル名を構造化に</h4>
<h6 id="同じフォーマットでメタ情報を記入">同じフォーマットでメタ情報を記入</h6>
</div>
</div><div class="column" style="width:35%;">
<div class="fragment" data-fragment-index="6">
<p><em>SomethingNew</em></p>
</div>
</div>
</div>
<div class="footer">
<p><span class="emoji" data-emoji="file_folder">📁</span></p>
</div>
</section>
<section id="コーパス紹介" class="slide level2 smaller">
<h2>コーパス紹介📦</h2>
<h4 id="教科書コーパスの情報">教科書コーパスの情報:</h4>
<p><img data-src="image.png" class="absolute" style=""></p>
<!-- ## コーパス紹介 {.smaller}

#### 教科書コーパスの情報:

<br/> -->
<!-- 
::: columns -->
<!-- ::: {.r-fit-text} -->
<!-- ::: {.column width="100%"} -->
<!-- +-------------------------------+----------+---------------+--------------+-----------------+
| 教科書名                      |文章数    |延べ語数       |平均延べ語数  |平均異なり語数   |
+===============================+==========+===============+==============+=================+
| 中級日本語 カルテット I       | 30       |         11861 |          395 |             157 |
+-------------------------------+----------+---------------+--------------+-----------------+
| 中級日本語 カルテット II      | 29       |         17155 |          591 |             217 |
+-------------------------------+----------+---------------+--------------+-----------------+
| 学ぼう! にほんご 初中級       | 40       |          9057 |          226 |             100 |
+-------------------------------+----------+---------------+--------------+-----------------+
| 学ぼう! にほんご 中級         | 40       |         15794 |          394 |             154 |
+-------------------------------+----------+---------------+--------------+-----------------+
| 新版 中日交流標準日本語 中級上| 32       |         10372 |          324 |             128 |
+-------------------------------+----------+---------------+--------------+-----------------+
| 新版 中日交流標準日本語 中級下| 32       |         13933 |          435 |             174 |
+-------------------------------+----------+---------------+--------------+-----------------+
 -->
<!-- ::: -->
<!-- :::
::: -->
<div class="footer">
<p><span class="emoji" data-emoji="file_folder">📁</span></p>
</div>
</section>
<section id="方法" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">方法🔎</h2>
<h3 id="従来指標を教科書コーパスにあてる">1.　従来指標を教科書コーパスにあてる</h3>
<ul>
<li>形態素解析ツール（<a href="https://github.com/polm/fugashi">Fugashi</a>）を使用</li>
<li>従来指標と日本語リーダビリティ公式を計算する</li>
</ul>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode python hljs"><span id="cb1-1" class="hljs-ln-code"><a href="#cb1-1"></a><span class="co"># pip install --no-binary fugashi fugashi</span></span>
<span id="cb1-2" class="hljs-ln-code"><a href="#cb1-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3" class="hljs-ln-code"><a href="#cb1-3"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-4" class="hljs-ln-code"><a href="#cb1-4"></a><span class="im">import</span> re</span>
<span id="cb1-5" class="hljs-ln-code"><a href="#cb1-5"></a><span class="im">from</span> statistics <span class="im">import</span> stdev</span>
<span id="cb1-6" class="hljs-ln-code"><a href="#cb1-6"></a><span class="im">import</span> math</span>
<span id="cb1-7" class="hljs-ln-code"><a href="#cb1-7"></a></span>
<span id="cb1-8" class="hljs-ln-code"><a href="#cb1-8"></a><span class="kw">def</span> __ttr(words):</span>
<span id="cb1-9" class="hljs-ln-code"><a href="#cb1-9"></a></span>
<span id="cb1-10" class="hljs-ln-code"><a href="#cb1-10"></a>    <span class="cf">return</span> <span class="bu">len</span>(<span class="bu">set</span>(words)) <span class="op">/</span> <span class="bu">len</span>(words)</span>
<span id="cb1-11" class="hljs-ln-code"><a href="#cb1-11"></a></span>
<span id="cb1-12" class="hljs-ln-code"><a href="#cb1-12"></a><span class="kw">def</span> __sttr(wordlist, winsize<span class="op">=</span><span class="dv">50</span>):</span>
<span id="cb1-13" class="hljs-ln-code"><a href="#cb1-13"></a> </span>
<span id="cb1-14" class="hljs-ln-code"><a href="#cb1-14"></a>    results <span class="op">=</span> []</span>
<span id="cb1-15" class="hljs-ln-code"><a href="#cb1-15"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">int</span>(<span class="bu">len</span>(wordlist)<span class="op">/</span>winsize)):</span>
<span id="cb1-16" class="hljs-ln-code"><a href="#cb1-16"></a>        results.append(__ttr(wordlist[i<span class="op">*</span>winsize:(i<span class="op">*</span>winsize)<span class="op">+</span>winsize]))</span>
<span id="cb1-17" class="hljs-ln-code"><a href="#cb1-17"></a>    <span class="cf">return</span> mean(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="方法-1" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">方法🔎</h2>
<h3 id="従来指標を教科書コーパスにあてる-1">1.　従来指標を教科書コーパスにあてる</h3>
<ul>
<li>従来指標と日本語リーダビリティ公式を計算する</li>
</ul>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode python hljs"><span id="cb2-1" class="hljs-ln-code"><a href="#cb2-1"></a><span class="kw">def</span> get_jp_sent(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb2-2" class="hljs-ln-code"><a href="#cb2-2"></a></span>
<span id="cb2-3" class="hljs-ln-code"><a href="#cb2-3"></a>    sent_detector <span class="op">=</span> nltk.RegexpTokenizer(<span class="st">u'[^　！？。]*[！？。.</span><span class="ch">\n</span><span class="st">]'</span>)</span>
<span id="cb2-4" class="hljs-ln-code"><a href="#cb2-4"></a>    sents <span class="op">=</span> sent_detector.tokenize(my_data)</span>
<span id="cb2-5" class="hljs-ln-code"><a href="#cb2-5"></a>    num <span class="op">=</span> <span class="bu">len</span>(sents)</span>
<span id="cb2-6" class="hljs-ln-code"><a href="#cb2-6"></a>    <span class="cf">return</span> num</span>
<span id="cb2-7" class="hljs-ln-code"><a href="#cb2-7"></a></span>
<span id="cb2-8" class="hljs-ln-code"><a href="#cb2-8"></a></span>
<span id="cb2-9" class="hljs-ln-code"><a href="#cb2-9"></a><span class="kw">def</span> get_jp_chars(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb2-10" class="hljs-ln-code"><a href="#cb2-10"></a></span>
<span id="cb2-11" class="hljs-ln-code"><a href="#cb2-11"></a>    chars <span class="op">=</span> <span class="st">""</span>.join(my_data)</span>
<span id="cb2-12" class="hljs-ln-code"><a href="#cb2-12"></a>    num_char <span class="op">=</span> <span class="bu">len</span>(chars)</span>
<span id="cb2-13" class="hljs-ln-code"><a href="#cb2-13"></a></span>
<span id="cb2-14" class="hljs-ln-code"><a href="#cb2-14"></a>    <span class="cf">return</span> num_char</span>
<span id="cb2-15" class="hljs-ln-code"><a href="#cb2-15"></a></span>
<span id="cb2-16" class="hljs-ln-code"><a href="#cb2-16"></a></span>
<span id="cb2-17" class="hljs-ln-code"><a href="#cb2-17"></a></span>
<span id="cb2-18" class="hljs-ln-code"><a href="#cb2-18"></a><span class="kw">def</span> calcARI_jp(my_data: <span class="bu">str</span>, debug<span class="op">=</span><span class="va">False</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb2-19" class="hljs-ln-code"><a href="#cb2-19"></a></span>
<span id="cb2-20" class="hljs-ln-code"><a href="#cb2-20"></a>    <span class="cf">try</span>:</span>
<span id="cb2-21" class="hljs-ln-code"><a href="#cb2-21"></a>        <span class="co"># score_ARI = 21.43*(get_jp_chars(my_data))/len(get_jp_tok(my_data))+0.5*(len(get_jp_tok(my_data))/text_to_sentence(my_data))-21.43</span></span>
<span id="cb2-22" class="hljs-ln-code"><a href="#cb2-22"></a>        chars <span class="op">=</span> get_jp_chars(my_data)</span>
<span id="cb2-23" class="hljs-ln-code"><a href="#cb2-23"></a>        tokens <span class="op">=</span> <span class="bu">len</span>(get_jp_tok(my_data))</span>
<span id="cb2-24" class="hljs-ln-code"><a href="#cb2-24"></a>        sentences <span class="op">=</span> get_jp_sent(my_data)</span>
<span id="cb2-25" class="hljs-ln-code"><a href="#cb2-25"></a>        score_ARI <span class="op">=</span> <span class="fl">21.43</span><span class="op">*</span>chars<span class="op">/</span>tokens <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>tokens<span class="op">/</span>sentences <span class="op">-</span> <span class="fl">21.43</span></span>
<span id="cb2-26" class="hljs-ln-code"><a href="#cb2-26"></a></span>
<span id="cb2-27" class="hljs-ln-code"><a href="#cb2-27"></a>        <span class="cf">if</span> debug:</span>
<span id="cb2-28" class="hljs-ln-code"><a href="#cb2-28"></a>            <span class="bu">print</span>(<span class="ss">f"chars=</span><span class="sc">{</span>chars<span class="sc">}</span><span class="ss">, tokens=</span><span class="sc">{</span>tokens<span class="sc">}</span><span class="ss">, sentences=</span><span class="sc">{</span>sentences<span class="sc">}</span><span class="ss">, socre_ARI=</span><span class="sc">{</span>score_ARI<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-29" class="hljs-ln-code"><a href="#cb2-29"></a></span>
<span id="cb2-30" class="hljs-ln-code"><a href="#cb2-30"></a>        <span class="cf">return</span> score_ARI</span>
<span id="cb2-31" class="hljs-ln-code"><a href="#cb2-31"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb2-32" class="hljs-ln-code"><a href="#cb2-32"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb2-33" class="hljs-ln-code"><a href="#cb2-33"></a></span>
<span id="cb2-34" class="hljs-ln-code"><a href="#cb2-34"></a></span>
<span id="cb2-35" class="hljs-ln-code"><a href="#cb2-35"></a></span>
<span id="cb2-36" class="hljs-ln-code"><a href="#cb2-36"></a><span class="kw">def</span> calcratio_jp(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb2-37" class="hljs-ln-code"><a href="#cb2-37"></a></span>
<span id="cb2-38" class="hljs-ln-code"><a href="#cb2-38"></a>    con_lst <span class="op">=</span> [<span class="st">'名詞'</span>, <span class="st">'副詞'</span>, <span class="st">'形容詞'</span>, <span class="st">'動詞'</span>, <span class="st">'形状詞'</span>]</span>
<span id="cb2-39" class="hljs-ln-code"><a href="#cb2-39"></a>    fun_lst <span class="op">=</span> [<span class="st">'助動詞'</span>, <span class="st">'助詞'</span>]</span>
<span id="cb2-40" class="hljs-ln-code"><a href="#cb2-40"></a>    num1 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-41" class="hljs-ln-code"><a href="#cb2-41"></a>    num2 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-42" class="hljs-ln-code"><a href="#cb2-42"></a>    tokens <span class="op">=</span> tagger(my_data)</span>
<span id="cb2-43" class="hljs-ln-code"><a href="#cb2-43"></a></span>
<span id="cb2-44" class="hljs-ln-code"><a href="#cb2-44"></a>    <span class="cf">try</span>:</span>
<span id="cb2-45" class="hljs-ln-code"><a href="#cb2-45"></a>        <span class="cf">for</span> word <span class="kw">in</span> tokens:</span>
<span id="cb2-46" class="hljs-ln-code"><a href="#cb2-46"></a>            <span class="cf">if</span> word.pos.split(<span class="st">','</span>)[<span class="dv">0</span>] <span class="kw">in</span> con_lst:</span>
<span id="cb2-47" class="hljs-ln-code"><a href="#cb2-47"></a>                num1 <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-48" class="hljs-ln-code"><a href="#cb2-48"></a></span>
<span id="cb2-49" class="hljs-ln-code"><a href="#cb2-49"></a>        <span class="cf">for</span> word <span class="kw">in</span> tokens:</span>
<span id="cb2-50" class="hljs-ln-code"><a href="#cb2-50"></a>            <span class="cf">if</span> word.pos.split(<span class="st">','</span>)[<span class="dv">0</span>] <span class="kw">in</span> fun_lst:</span>
<span id="cb2-51" class="hljs-ln-code"><a href="#cb2-51"></a>                num2 <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-52" class="hljs-ln-code"><a href="#cb2-52"></a></span>
<span id="cb2-53" class="hljs-ln-code"><a href="#cb2-53"></a>        <span class="cf">return</span> num1<span class="op">/</span><span class="bu">len</span>(tokens)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb2-54" class="hljs-ln-code"><a href="#cb2-54"></a></span>
<span id="cb2-55" class="hljs-ln-code"><a href="#cb2-55"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb2-56" class="hljs-ln-code"><a href="#cb2-56"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb2-57" class="hljs-ln-code"><a href="#cb2-57"></a></span>
<span id="cb2-58" class="hljs-ln-code"><a href="#cb2-58"></a><span class="co"># Lee-readability と Shibazaki-redability の計算式</span></span>
<span id="cb2-59" class="hljs-ln-code"><a href="#cb2-59"></a></span>
<span id="cb2-60" class="hljs-ln-code"><a href="#cb2-60"></a></span>
<span id="cb2-61" class="hljs-ln-code"><a href="#cb2-61"></a><span class="kw">def</span> get_jp_chars(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb2-62" class="hljs-ln-code"><a href="#cb2-62"></a></span>
<span id="cb2-63" class="hljs-ln-code"><a href="#cb2-63"></a>    chars <span class="op">=</span> <span class="st">""</span>.join(my_data)</span>
<span id="cb2-64" class="hljs-ln-code"><a href="#cb2-64"></a>    num_char <span class="op">=</span> <span class="bu">len</span>(chars)</span>
<span id="cb2-65" class="hljs-ln-code"><a href="#cb2-65"></a></span>
<span id="cb2-66" class="hljs-ln-code"><a href="#cb2-66"></a>    <span class="cf">return</span> num_char</span>
<span id="cb2-67" class="hljs-ln-code"><a href="#cb2-67"></a></span>
<span id="cb2-68" class="hljs-ln-code"><a href="#cb2-68"></a></span>
<span id="cb2-69" class="hljs-ln-code"><a href="#cb2-69"></a><span class="kw">def</span> get_jp_tok(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">list</span>[<span class="bu">str</span>]:</span>
<span id="cb2-70" class="hljs-ln-code"><a href="#cb2-70"></a></span>
<span id="cb2-71" class="hljs-ln-code"><a href="#cb2-71"></a>    tokens <span class="op">=</span> tagger(my_data)</span>
<span id="cb2-72" class="hljs-ln-code"><a href="#cb2-72"></a>    token_strings <span class="op">=</span> [token.surface <span class="cf">for</span> token <span class="kw">in</span> tokens]</span>
<span id="cb2-73" class="hljs-ln-code"><a href="#cb2-73"></a></span>
<span id="cb2-74" class="hljs-ln-code"><a href="#cb2-74"></a>    <span class="cf">return</span> token_strings</span>
<span id="cb2-75" class="hljs-ln-code"><a href="#cb2-75"></a></span>
<span id="cb2-76" class="hljs-ln-code"><a href="#cb2-76"></a></span>
<span id="cb2-77" class="hljs-ln-code"><a href="#cb2-77"></a><span class="kw">def</span> text_to_sentence(text: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">list</span>[<span class="bu">str</span>]:</span>
<span id="cb2-78" class="hljs-ln-code"><a href="#cb2-78"></a>    sent_detector <span class="op">=</span> nltk.RegexpTokenizer(<span class="st">u'[^　！？。]*[！？。.</span><span class="ch">\n</span><span class="st">]'</span>)</span>
<span id="cb2-79" class="hljs-ln-code"><a href="#cb2-79"></a>    sents <span class="op">=</span> sent_detector.tokenize(text)</span>
<span id="cb2-80" class="hljs-ln-code"><a href="#cb2-80"></a>    <span class="cf">return</span> sents</span>
<span id="cb2-81" class="hljs-ln-code"><a href="#cb2-81"></a></span>
<span id="cb2-82" class="hljs-ln-code"><a href="#cb2-82"></a></span>
<span id="cb2-83" class="hljs-ln-code"><a href="#cb2-83"></a></span>
<span id="cb2-84" class="hljs-ln-code"><a href="#cb2-84"></a><span class="im">from</span> statistics <span class="im">import</span> mean</span>
<span id="cb2-85" class="hljs-ln-code"><a href="#cb2-85"></a></span>
<span id="cb2-86" class="hljs-ln-code"><a href="#cb2-86"></a><span class="kw">def</span> calcLee(my_data: <span class="bu">str</span>, debug<span class="op">=</span><span class="va">False</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb2-87" class="hljs-ln-code"><a href="#cb2-87"></a></span>
<span id="cb2-88" class="hljs-ln-code"><a href="#cb2-88"></a>    sents <span class="op">=</span> text_to_sentence(my_data)</span>
<span id="cb2-89" class="hljs-ln-code"><a href="#cb2-89"></a></span>
<span id="cb2-90" class="hljs-ln-code"><a href="#cb2-90"></a>    <span class="cf">try</span>:</span>
<span id="cb2-91" class="hljs-ln-code"><a href="#cb2-91"></a>        sentence_lengths <span class="op">=</span> []</span>
<span id="cb2-92" class="hljs-ln-code"><a href="#cb2-92"></a>        <span class="cf">for</span> s <span class="kw">in</span> sents:</span>
<span id="cb2-93" class="hljs-ln-code"><a href="#cb2-93"></a>            tokens_s <span class="op">=</span> tagger(s)</span>
<span id="cb2-94" class="hljs-ln-code"><a href="#cb2-94"></a>            sentence_lengths.append(<span class="bu">len</span>(tokens_s))</span>
<span id="cb2-95" class="hljs-ln-code"><a href="#cb2-95"></a></span>
<span id="cb2-96" class="hljs-ln-code"><a href="#cb2-96"></a>        avechar <span class="op">=</span> mean(sentence_lengths)</span>
<span id="cb2-97" class="hljs-ln-code"><a href="#cb2-97"></a></span>
<span id="cb2-98" class="hljs-ln-code"><a href="#cb2-98"></a>        kannum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-99" class="hljs-ln-code"><a href="#cb2-99"></a>        wanum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-100" class="hljs-ln-code"><a href="#cb2-100"></a>        dnum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-101" class="hljs-ln-code"><a href="#cb2-101"></a>        jnum <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-102" class="hljs-ln-code"><a href="#cb2-102"></a></span>
<span id="cb2-103" class="hljs-ln-code"><a href="#cb2-103"></a>        tokens <span class="op">=</span> tagger(my_data)</span>
<span id="cb2-104" class="hljs-ln-code"><a href="#cb2-104"></a></span>
<span id="cb2-105" class="hljs-ln-code"><a href="#cb2-105"></a>        <span class="cf">for</span> token <span class="kw">in</span> tokens:</span>
<span id="cb2-106" class="hljs-ln-code"><a href="#cb2-106"></a>            <span class="cf">if</span> token.feature.goshu <span class="op">==</span> <span class="st">'漢'</span>:</span>
<span id="cb2-107" class="hljs-ln-code"><a href="#cb2-107"></a>                kannum <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-108" class="hljs-ln-code"><a href="#cb2-108"></a></span>
<span id="cb2-109" class="hljs-ln-code"><a href="#cb2-109"></a>        <span class="cf">for</span> token <span class="kw">in</span> tokens:</span>
<span id="cb2-110" class="hljs-ln-code"><a href="#cb2-110"></a>            <span class="cf">if</span> token.feature.goshu <span class="op">==</span> <span class="st">'和'</span>:</span>
<span id="cb2-111" class="hljs-ln-code"><a href="#cb2-111"></a>                wanum <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-112" class="hljs-ln-code"><a href="#cb2-112"></a></span>
<span id="cb2-113" class="hljs-ln-code"><a href="#cb2-113"></a>        <span class="cf">for</span> word <span class="kw">in</span> tokens:</span>
<span id="cb2-114" class="hljs-ln-code"><a href="#cb2-114"></a>            <span class="cf">if</span> word.pos.split(<span class="st">','</span>)[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'動詞'</span>:</span>
<span id="cb2-115" class="hljs-ln-code"><a href="#cb2-115"></a>                dnum <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-116" class="hljs-ln-code"><a href="#cb2-116"></a></span>
<span id="cb2-117" class="hljs-ln-code"><a href="#cb2-117"></a>        <span class="cf">for</span> word <span class="kw">in</span> tokens:</span>
<span id="cb2-118" class="hljs-ln-code"><a href="#cb2-118"></a>            <span class="cf">if</span> word.pos.split(<span class="st">','</span>)[<span class="dv">0</span>] <span class="op">==</span> <span class="st">'助詞'</span>:</span>
<span id="cb2-119" class="hljs-ln-code"><a href="#cb2-119"></a>                jnum <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-120" class="hljs-ln-code"><a href="#cb2-120"></a></span>
<span id="cb2-121" class="hljs-ln-code"><a href="#cb2-121"></a>        toknum <span class="op">=</span> <span class="bu">len</span>(get_jp_tok(my_data))</span>
<span id="cb2-122" class="hljs-ln-code"><a href="#cb2-122"></a>        <span class="co"># score = 11.724-0.056*avechar-0.126*(kannum/toknum)-0.042*(wanum/toknum)-0.145*(dnum/toknum)-0.044*(jnum/toknum)</span></span>
<span id="cb2-123" class="hljs-ln-code"><a href="#cb2-123"></a>        score <span class="op">=</span> <span class="fl">11.724</span><span class="op">-</span><span class="fl">0.056</span><span class="op">*</span>avechar<span class="op">-</span><span class="fl">12.6</span><span class="op">*</span>(kannum<span class="op">/</span>toknum)<span class="op">-</span><span class="fl">4.2</span><span class="op">*</span>(wanum<span class="op">/</span>toknum)<span class="op">-</span><span class="fl">14.5</span><span class="op">*</span>(dnum<span class="op">/</span>toknum)<span class="op">-</span><span class="fl">4.4</span><span class="op">*</span>(jnum<span class="op">/</span>toknum)</span>
<span id="cb2-124" class="hljs-ln-code"><a href="#cb2-124"></a></span>
<span id="cb2-125" class="hljs-ln-code"><a href="#cb2-125"></a>        <span class="cf">if</span> debug:</span>
<span id="cb2-126" class="hljs-ln-code"><a href="#cb2-126"></a>            <span class="bu">print</span>(<span class="ss">f"avechar=</span><span class="sc">{</span>avechar<span class="sc">}</span><span class="ss">, kannum=</span><span class="sc">{</span>kannum<span class="sc">}</span><span class="ss">, wanum=</span><span class="sc">{</span>wanum<span class="sc">}</span><span class="ss">, dnum=</span><span class="sc">{</span>dnum<span class="sc">}</span><span class="ss">, jnum=</span><span class="sc">{</span>jnum<span class="sc">}</span><span class="ss">, toknum=</span><span class="sc">{</span>toknum<span class="sc">}</span><span class="ss">, score=</span><span class="sc">{</span>score<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-127" class="hljs-ln-code"><a href="#cb2-127"></a></span>
<span id="cb2-128" class="hljs-ln-code"><a href="#cb2-128"></a>        <span class="cf">return</span> score</span>
<span id="cb2-129" class="hljs-ln-code"><a href="#cb2-129"></a></span>
<span id="cb2-130" class="hljs-ln-code"><a href="#cb2-130"></a>    <span class="cf">except</span> <span class="pp">ZeroDivisionError</span>:</span>
<span id="cb2-131" class="hljs-ln-code"><a href="#cb2-131"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb2-132" class="hljs-ln-code"><a href="#cb2-132"></a></span>
<span id="cb2-133" class="hljs-ln-code"><a href="#cb2-133"></a></span>
<span id="cb2-134" class="hljs-ln-code"><a href="#cb2-134"></a></span>
<span id="cb2-135" class="hljs-ln-code"><a href="#cb2-135"></a></span>
<span id="cb2-136" class="hljs-ln-code"><a href="#cb2-136"></a></span>
<span id="cb2-137" class="hljs-ln-code"><a href="#cb2-137"></a><span class="kw">def</span> calc_shibazaki_chunk(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb2-138" class="hljs-ln-code"><a href="#cb2-138"></a></span>
<span id="cb2-139" class="hljs-ln-code"><a href="#cb2-139"></a>    n <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-140" class="hljs-ln-code"><a href="#cb2-140"></a>    <span class="co"># for i in my_data:</span></span>
<span id="cb2-141" class="hljs-ln-code"><a href="#cb2-141"></a>    chunk <span class="op">=</span> bunsetu_spans(nlp(my_data))</span>
<span id="cb2-142" class="hljs-ln-code"><a href="#cb2-142"></a>    n <span class="op">=</span> <span class="bu">len</span>(chunk)</span>
<span id="cb2-143" class="hljs-ln-code"><a href="#cb2-143"></a>    n <span class="op">+=</span> n</span>
<span id="cb2-144" class="hljs-ln-code"><a href="#cb2-144"></a></span>
<span id="cb2-145" class="hljs-ln-code"><a href="#cb2-145"></a>    <span class="cf">return</span> n</span>
<span id="cb2-146" class="hljs-ln-code"><a href="#cb2-146"></a></span>
<span id="cb2-147" class="hljs-ln-code"><a href="#cb2-147"></a></span>
<span id="cb2-148" class="hljs-ln-code"><a href="#cb2-148"></a></span>
<span id="cb2-149" class="hljs-ln-code"><a href="#cb2-149"></a></span>
<span id="cb2-150" class="hljs-ln-code"><a href="#cb2-150"></a></span>
<span id="cb2-151" class="hljs-ln-code"><a href="#cb2-151"></a>KATAKANA <span class="op">=</span> <span class="bu">set</span>(<span class="bu">list</span>(<span class="st">'ァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソ'</span></span>
<span id="cb2-152" class="hljs-ln-code"><a href="#cb2-152"></a>                    <span class="st">'ゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペ'</span></span>
<span id="cb2-153" class="hljs-ln-code"><a href="#cb2-153"></a>                    <span class="st">'ホボポマミムメモャヤュユョヨラリルレロワヲンーヮヰヱヵヶヴ'</span>))</span>
<span id="cb2-154" class="hljs-ln-code"><a href="#cb2-154"></a></span>
<span id="cb2-155" class="hljs-ln-code"><a href="#cb2-155"></a>HIRAGANA <span class="op">=</span> <span class="bu">set</span>(<span class="bu">list</span>(<span class="st">'ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすず'</span></span>
<span id="cb2-156" class="hljs-ln-code"><a href="#cb2-156"></a>                    <span class="st">'せぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴ'</span></span>
<span id="cb2-157" class="hljs-ln-code"><a href="#cb2-157"></a>                    <span class="st">'ふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろわ'</span></span>
<span id="cb2-158" class="hljs-ln-code"><a href="#cb2-158"></a>                    <span class="st">'をんーゎゐゑゕゖゔ'</span>))</span>
<span id="cb2-159" class="hljs-ln-code"><a href="#cb2-159"></a></span>
<span id="cb2-160" class="hljs-ln-code"><a href="#cb2-160"></a>KANJI_RX <span class="op">=</span> re.<span class="bu">compile</span>(<span class="vs">r'[\u4e00-\u9fff]'</span>)</span>
<span id="cb2-161" class="hljs-ln-code"><a href="#cb2-161"></a></span>
<span id="cb2-162" class="hljs-ln-code"><a href="#cb2-162"></a><span class="im">from</span> collections <span class="im">import</span> defaultdict</span>
<span id="cb2-163" class="hljs-ln-code"><a href="#cb2-163"></a><span class="kw">def</span> count_character_types(text):</span>
<span id="cb2-164" class="hljs-ln-code"><a href="#cb2-164"></a>    cmap <span class="op">=</span> {</span>
<span id="cb2-165" class="hljs-ln-code"><a href="#cb2-165"></a>        <span class="st">'katakana'</span>: <span class="dv">0</span>,</span>
<span id="cb2-166" class="hljs-ln-code"><a href="#cb2-166"></a>        <span class="st">'hiragana'</span>: <span class="dv">0</span>,</span>
<span id="cb2-167" class="hljs-ln-code"><a href="#cb2-167"></a>        <span class="st">'kanji'</span>: <span class="dv">0</span>,</span>
<span id="cb2-168" class="hljs-ln-code"><a href="#cb2-168"></a>        <span class="st">'other'</span>: <span class="dv">0</span>,</span>
<span id="cb2-169" class="hljs-ln-code"><a href="#cb2-169"></a>    }</span>
<span id="cb2-170" class="hljs-ln-code"><a href="#cb2-170"></a>    katakana <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-171" class="hljs-ln-code"><a href="#cb2-171"></a>    hiragana <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-172" class="hljs-ln-code"><a href="#cb2-172"></a>    kanji <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-173" class="hljs-ln-code"><a href="#cb2-173"></a>    other <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-174" class="hljs-ln-code"><a href="#cb2-174"></a></span>
<span id="cb2-175" class="hljs-ln-code"><a href="#cb2-175"></a>    <span class="cf">for</span> c <span class="kw">in</span> text:</span>
<span id="cb2-176" class="hljs-ln-code"><a href="#cb2-176"></a>        <span class="cf">if</span> c <span class="kw">in</span> KATAKANA:</span>
<span id="cb2-177" class="hljs-ln-code"><a href="#cb2-177"></a>            katakana <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-178" class="hljs-ln-code"><a href="#cb2-178"></a>        <span class="cf">elif</span> c <span class="kw">in</span> HIRAGANA:</span>
<span id="cb2-179" class="hljs-ln-code"><a href="#cb2-179"></a>            hiragana <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-180" class="hljs-ln-code"><a href="#cb2-180"></a>        <span class="cf">elif</span> KANJI_RX.match(c):</span>
<span id="cb2-181" class="hljs-ln-code"><a href="#cb2-181"></a>            kanji <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-182" class="hljs-ln-code"><a href="#cb2-182"></a>        <span class="cf">else</span>:</span>
<span id="cb2-183" class="hljs-ln-code"><a href="#cb2-183"></a>            other <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-184" class="hljs-ln-code"><a href="#cb2-184"></a></span>
<span id="cb2-185" class="hljs-ln-code"><a href="#cb2-185"></a>    <span class="cf">return</span> kanji, hiragana, katakana, other</span>
<span id="cb2-186" class="hljs-ln-code"><a href="#cb2-186"></a></span>
<span id="cb2-187" class="hljs-ln-code"><a href="#cb2-187"></a></span>
<span id="cb2-188" class="hljs-ln-code"><a href="#cb2-188"></a></span>
<span id="cb2-189" class="hljs-ln-code"><a href="#cb2-189"></a></span>
<span id="cb2-190" class="hljs-ln-code"><a href="#cb2-190"></a></span>
<span id="cb2-191" class="hljs-ln-code"><a href="#cb2-191"></a><span class="kw">def</span> calc_shibazaki_hiragana_ratio(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb2-192" class="hljs-ln-code"><a href="#cb2-192"></a></span>
<span id="cb2-193" class="hljs-ln-code"><a href="#cb2-193"></a>    ratio <span class="op">=</span> count_character_types(my_data)[<span class="dv">1</span>] <span class="op">/</span> <span class="bu">len</span>(my_data)</span>
<span id="cb2-194" class="hljs-ln-code"><a href="#cb2-194"></a></span>
<span id="cb2-195" class="hljs-ln-code"><a href="#cb2-195"></a>    <span class="cf">return</span> ratio</span>
<span id="cb2-196" class="hljs-ln-code"><a href="#cb2-196"></a></span>
<span id="cb2-197" class="hljs-ln-code"><a href="#cb2-197"></a></span>
<span id="cb2-198" class="hljs-ln-code"><a href="#cb2-198"></a><span class="kw">def</span> calc_shibazaki_predicates(my_data: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb2-199" class="hljs-ln-code"><a href="#cb2-199"></a>    <span class="co">"""</span></span>
<span id="cb2-200" class="hljs-ln-code"><a href="#cb2-200"></a><span class="co">    Predicate count（述語数）.</span></span>
<span id="cb2-201" class="hljs-ln-code"><a href="#cb2-201"></a><span class="co">    """</span></span>
<span id="cb2-202" class="hljs-ln-code"><a href="#cb2-202"></a></span>
<span id="cb2-203" class="hljs-ln-code"><a href="#cb2-203"></a>    chunks <span class="op">=</span> bunsetu_spans(nlp(my_data))</span>
<span id="cb2-204" class="hljs-ln-code"><a href="#cb2-204"></a>    predicates <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-205" class="hljs-ln-code"><a href="#cb2-205"></a>    <span class="cf">for</span> chunk <span class="kw">in</span> chunks:</span>
<span id="cb2-206" class="hljs-ln-code"><a href="#cb2-206"></a>        found <span class="op">=</span> <span class="va">False</span></span>
<span id="cb2-207" class="hljs-ln-code"><a href="#cb2-207"></a>        <span class="cf">for</span> token <span class="kw">in</span> chunk:</span>
<span id="cb2-208" class="hljs-ln-code"><a href="#cb2-208"></a>            pos <span class="op">=</span> token.tag_.split(<span class="st">"-"</span>)</span>
<span id="cb2-209" class="hljs-ln-code"><a href="#cb2-209"></a>            pos_1 <span class="op">=</span> pos[<span class="dv">0</span>]</span>
<span id="cb2-210" class="hljs-ln-code"><a href="#cb2-210"></a>            <span class="cf">if</span> <span class="bu">len</span>(pos) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb2-211" class="hljs-ln-code"><a href="#cb2-211"></a>                pos_2 <span class="op">=</span> pos[<span class="dv">1</span>]</span>
<span id="cb2-212" class="hljs-ln-code"><a href="#cb2-212"></a>            <span class="cf">else</span>:</span>
<span id="cb2-213" class="hljs-ln-code"><a href="#cb2-213"></a>                pos_2 <span class="op">=</span> <span class="st">""</span></span>
<span id="cb2-214" class="hljs-ln-code"><a href="#cb2-214"></a>            <span class="cf">if</span> (re.search(<span class="vs">r"終止形-一般"</span>, inflection(token)) <span class="kw">or</span></span>
<span id="cb2-215" class="hljs-ln-code"><a href="#cb2-215"></a>                pos_1 <span class="op">==</span> <span class="st">"動詞"</span> <span class="kw">or</span></span>
<span id="cb2-216" class="hljs-ln-code"><a href="#cb2-216"></a>                (pos_1 <span class="op">==</span> <span class="st">"助動詞"</span> <span class="kw">and</span> token.text <span class="op">!=</span> <span class="st">"な"</span> <span class="kw">and</span></span>
<span id="cb2-217" class="hljs-ln-code"><a href="#cb2-217"></a>                 <span class="bu">any</span>(x <span class="op">==</span> token.lemma_ <span class="cf">for</span> x <span class="kw">in</span> [<span class="st">"だ"</span>, <span class="st">"です"</span>])) <span class="kw">or</span></span>
<span id="cb2-218" class="hljs-ln-code"><a href="#cb2-218"></a>                pos_2 <span class="op">==</span> <span class="st">"終助詞"</span> <span class="kw">or</span></span>
<span id="cb2-219" class="hljs-ln-code"><a href="#cb2-219"></a>                pos_2 <span class="op">==</span> <span class="st">"句点"</span>):</span>
<span id="cb2-220" class="hljs-ln-code"><a href="#cb2-220"></a>                found <span class="op">=</span> <span class="va">True</span></span>
<span id="cb2-221" class="hljs-ln-code"><a href="#cb2-221"></a>        <span class="cf">if</span> found:</span>
<span id="cb2-222" class="hljs-ln-code"><a href="#cb2-222"></a>            predicates <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-223" class="hljs-ln-code"><a href="#cb2-223"></a></span>
<span id="cb2-224" class="hljs-ln-code"><a href="#cb2-224"></a>    <span class="cf">return</span> predicates</span>
<span id="cb2-225" class="hljs-ln-code"><a href="#cb2-225"></a></span>
<span id="cb2-226" class="hljs-ln-code"><a href="#cb2-226"></a></span>
<span id="cb2-227" class="hljs-ln-code"><a href="#cb2-227"></a></span>
<span id="cb2-228" class="hljs-ln-code"><a href="#cb2-228"></a></span>
<span id="cb2-229" class="hljs-ln-code"><a href="#cb2-229"></a><span class="kw">def</span> calc_shibazaki_readability1(my_data: <span class="bu">str</span>, debug<span class="op">=</span><span class="va">False</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb2-230" class="hljs-ln-code"><a href="#cb2-230"></a>    sents <span class="op">=</span> text_to_sentence(my_data)</span>
<span id="cb2-231" class="hljs-ln-code"><a href="#cb2-231"></a>    sentences <span class="op">=</span> <span class="bu">len</span>(sents)</span>
<span id="cb2-232" class="hljs-ln-code"><a href="#cb2-232"></a>    hiragana_ratio <span class="op">=</span> calc_shibazaki_hiragana_ratio(my_data) <span class="op">*</span> <span class="dv">100</span> <span class="co">#　Shibazaki_2014の表１に参照、平仮名の割合は0以上の有理数で表示されているためここは100をかける</span></span>
<span id="cb2-233" class="hljs-ln-code"><a href="#cb2-233"></a>    predicates <span class="op">=</span> calc_shibazaki_predicates(my_data) <span class="op">/</span> sentences</span>
<span id="cb2-234" class="hljs-ln-code"><a href="#cb2-234"></a></span>
<span id="cb2-235" class="hljs-ln-code"><a href="#cb2-235"></a></span>
<span id="cb2-236" class="hljs-ln-code"><a href="#cb2-236"></a>    year <span class="op">=</span> <span class="op">+</span> <span class="fl">14.016</span> <span class="op">\</span></span>
<span id="cb2-237" class="hljs-ln-code"><a href="#cb2-237"></a>           <span class="op">-</span> (<span class="fl">0.145</span> <span class="op">*</span> hiragana_ratio) <span class="op">\</span></span>
<span id="cb2-238" class="hljs-ln-code"><a href="#cb2-238"></a>           <span class="op">+</span> (<span class="fl">0.587</span> <span class="op">*</span> predicates)</span>
<span id="cb2-239" class="hljs-ln-code"><a href="#cb2-239"></a></span>
<span id="cb2-240" class="hljs-ln-code"><a href="#cb2-240"></a>    <span class="cf">if</span> debug:</span>
<span id="cb2-241" class="hljs-ln-code"><a href="#cb2-241"></a>        <span class="bu">print</span>(<span class="ss">f"hiragana_ratio=</span><span class="sc">{</span>hiragana_ratio<span class="sc">}</span><span class="ss">, predicates=</span><span class="sc">{</span>predicates<span class="sc">}</span><span class="ss">, year=</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb2-242" class="hljs-ln-code"><a href="#cb2-242"></a></span>
<span id="cb2-243" class="hljs-ln-code"><a href="#cb2-243"></a>    <span class="cf">return</span> year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="footer">
<p><span class="emoji" data-emoji="bar_chart">📊</span></p>
</div>
</section>
<section id="結果" class="slide level2 smaller">
<h2>結果📝</h2>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="im">import</span> glob</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>readability <span class="op">=</span> []</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="cf">for</span> file_name <span class="kw">in</span> glob.glob(<span class="vs">r"/textbook-data/*.txt"</span>):</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="cf">with</span> <span class="bu">open</span>(file_name) <span class="im">as</span> f:</span>
<span id="cb3-6"><a href="#cb3-6"></a>        text <span class="op">=</span> f.read()</span>
<span id="cb3-7"><a href="#cb3-7"></a>        clean(text)</span>
<span id="cb3-8"><a href="#cb3-8"></a>    tokens <span class="op">=</span> get_jp_tok(text)</span>
<span id="cb3-9"><a href="#cb3-9"></a>    measures <span class="op">=</span> {</span>
<span id="cb3-10"><a href="#cb3-10"></a>        <span class="st">"Name"</span> : file_name.rpartition(<span class="st">'/'</span>)[<span class="op">-</span><span class="dv">1</span>],</span>
<span id="cb3-11"><a href="#cb3-11"></a>        <span class="st">"Textbook name"</span> : file_name.split(<span class="st">'/'</span>)[<span class="op">-</span><span class="dv">2</span>],</span>
<span id="cb3-12"><a href="#cb3-12"></a>        <span class="st">"TTR"</span> : __ttr(tokens),</span>
<span id="cb3-13"><a href="#cb3-13"></a>        <span class="st">"STTR"</span> : __sttr(tokens),</span>
<span id="cb3-14"><a href="#cb3-14"></a>        <span class="st">"ARI"</span> : calcARI_jp(text),</span>
<span id="cb3-15"><a href="#cb3-15"></a>        <span class="st">"Lexical density"</span> : calcratio_jp(text),</span>
<span id="cb3-16"><a href="#cb3-16"></a>        <span class="st">"Lee-formula"</span> : calcLee(text),</span>
<span id="cb3-17"><a href="#cb3-17"></a>        <span class="st">"Shibazaki-formula-1"</span> : calc_shibazaki_readability1(text) <span class="co"># 柴崎・玉岡(2010)によるリーダビリティ値, 範囲はなるべく表１と一致すべき</span></span>
<span id="cb3-18"><a href="#cb3-18"></a>    }</span>
<span id="cb3-19"><a href="#cb3-19"></a>    readability.append(measures)</span>
<span id="cb3-20"><a href="#cb3-20"></a></span>
<span id="cb3-21"><a href="#cb3-21"></a>test_df <span class="op">=</span> pd.DataFrame(readability)</span>
<span id="cb3-22"><a href="#cb3-22"></a></span>
<span id="cb3-23"><a href="#cb3-23"></a>test_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div class="footer">
<p><span class="emoji" data-emoji="bar_chart">📊</span></p>
</div>
</section>
<section id="結果-1" class="slide level2 smaller">
<h2>結果📝</h2>
<ul>
<li>指標の相関</li>
</ul>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>test_df.corr()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="84">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
</tbody>
</table>

</div>
</div>
</div>
<div class="footer">
<p><span class="emoji" data-emoji="bar_chart">📊</span></p>
</div>
</section>
<section id="まとめ" class="slide level2">
<h2>まとめ📋</h2>
</section>
<section id="参考文献" class="slide level2 scrollable">
<h2>参考文献</h2>
<div class="r-fit-text">
<p>近藤陽介, 松吉俊, 佐藤理史, (2008):「教科書コーパスを用いた日本語テキストの難易度推定」:『言語処理学会第 14 回年次大会発表論文集』. 言語処理学会第 14 回年次大会: 1113-1116</p>
<p>李在鎬, (2016):「日本語教育のための文章難易度に関する研究」. 早稲田日本語教育学 = Waseda studies in Japanese language education, (21): 1-16</p>
<p>李在鎬, (2019):「BCCWJ に含まれる学校教科書コーパスの計量的分析」. 計量国語学, 32: (3): 147-162 Benjamin, R. G., (2012): “Reconstructing Readability: Recent Developments and Recommendations in the Analysis of Text Difficulty.” Educ Psychol Rev, 24: 63-88. DOI: 10.1007/s10648-011-9181-8</p>
<p>Hodošček, B., Abekawa, T., Murota, M., Nishina, K., (2012): “Readability of example sentences in writing assistance tool Natsume.” In: 5th International Conference on Computer Assisted Systems For Teaching &amp; Learning Japanese (CASTEL/J). Nagoya, Japan: 1-4</p>
<p>Lee, J h., HASEBE, Y., (2020): “Readability measurement of Japanese texts based on levelled corpora.” The Japanese Language from an Empirical Perspective, 143-168</p>
<p>Martinc, M., Pollak, S., Robnik-Šikonja, M., (2021): “Supervised and Unsupervised Neural Approaches to Text Readability.” Computational Linguistics, 47: (1): 141-179. DOI: 10.1162/coli_a_00398</p>
<p>Shibasaki, H., Hara, S., (2010): “Japanese Readability Formula for Discriminating K-12 Grade Level Texts.” Mathematical Linguistics, 27: (6): 215-232</p>
<p>Tanaka-Ishii, K., Tezuka, S., Terada, H., (2010): “Sorting Texts by Readability.” Computational Linguistics, 36: (2): 203-227</p>
</div>
<div class="footer">
<p><span class="emoji" data-emoji="book">📖</span></p>
</div>
<div class="footer footer-default">
<p><span class="emoji" data-emoji="book">📖</span></p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="pre_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="pre_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="pre_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="pre_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="pre_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="pre_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="pre_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="pre_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="pre_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="pre_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>